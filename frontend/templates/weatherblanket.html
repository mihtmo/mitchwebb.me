{% extends 'layout.html' %}


{% block title %}
    feeling warm
{% endblock title %}


{% block head %}

<link href='./css/weatherblanket.css' rel='stylesheet'>
<script 
    src='{{ url_for('static', filename='./js/weatherblanket/weatherblanket.js') }}'>
</script>

{% endblock head %}


{% block body %}

<script 
    src='{{ url_for('static', filename='js/weatherblanket/colorScale.js') }}'>
</script>

<div id='weather-page-wrapper'>
    <div id='key-wrapper'>
        <div id='heat-key' class='blanket-key'></div>
        <div id='precip-key' class='blanket-key'></div>
        <div id='key-icon'></div>
        <div id='heat-key-wrapper'>
            <div id='heat-tic-wrapper'></div>
            <div id='degrees-wrapper'></div>
        </div>
        <div id='precip-key-wrapper'></div>
            <div id='inch-wrapper'>
            </div>
            <div id='precip-tic-wrapper'>
            </div>
    </div>
    <div id='weatherblanket-wrapper'>
        <div id='weather-bars'>
            <script type='text/javascript'>
                let dayNum = '{{ daynum }}';
                let weatherData = JSON.parse('{{ weatherdata|tojson|safe }}');
                let maxRain = '{{ max_rain }}'
                createWeatherblanket(dayNum, weatherData, maxRain);
            </script>
        </div>
        <div id='blanket-text'>
            <p>
                This is an artistic representation of temperatures and precipitation 
                levels in Austin, TX for the past 365 days. The color of the bars 
                correspond to the maximum daily temperature (at the top) and the 
                minimum daily temperature (at the bottom). The drips below the bars 
                indicate precipitation levels for that day. The data for this graphic 
                is coming directly from the NCEI API for Camp Mabry.
            </p>
            <p>
                Try hovering over the main graphic or the key on the left for more 
                information!
            </p>
            <p>
                This visual is best viewed on desktop or in landscape-mode.
            </p>
            <p>
                (P.S. There's a new version of this visualization in the works.
                Check out the progress 
                <a href="https://weatherblanket.onrender.com"> here </a>!)
            </p>
        </div>
    </div>
</div>

{% endblock body %}


{% block footer %}

<a href='/'>home</a>
|

{% endblock footer %}